<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join a Group</title>
    <link rel="stylesheet" href="/static/css/code.css">
    <link
    href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css"
    rel="stylesheet"
  />
  <link rel="icon" type="image/png" href="/static/images/favicon40.png">
</head>
<body>

<!--NavBar-->

<nav>
  <div class="logo">
    <i class="bx bx-menu menu-icon"></i>
    <a href="{{ url_for('homepage') }}" class="hideOnMobile">
        <img src="/static/images/favicon_30.png" alt="logo" class="logo">
    </a>
  </div>
  
  <div class="sidebar">
    <div class="logo">
      <i class="bx bx-menu menu-icon"></i>
      <span class="logo-name">SplitShare</span>
    </div>

    <div class="sidebar-content">
      <ul class="lists">
        <li class="list dropdown">
          <!-- Dashboard Link -->
          <div class="dropdown-toggle" id="dashboard-toggle">
            <a href="{{ url_for('home') }}" class="nav-link">
              <i class="bx bx-home-alt icon"></i>
              <span class="link">Dashboard</span>
            </a>
            <i class="bx bx-chevron-down icon"></i> <!-- Down Icon -->
          </div>
          <!-- Dropdown Menu -->
          <div class="dropdown-content" id="dropdown-menu">
            <a href="{{ url_for('groups') }}" class="nav-link">
              <i class="bx bx-group icon"></i> <!-- Icon for Create Group -->
              Create Group
            </a>
            <a href="{{ url_for('code') }}" class="nav-link">
              <i class="bx bx-code-alt icon"></i> <!-- Icon for Join Group -->
              Join Group
            </a>
            <a href="{{ url_for('groups_expenses') }}" class="nav-link">
              <i class="bx bx-calendar icon"></i> <!-- Icon for Groups -->
              Groups
            </a>
          </div>
        </li>

        <li class="list">
          <a href="{{ url_for('activity') }}" class="nav-link">
            <i class="bx bx-time-five icon"></i> <!-- Icon for Recent Activity -->
            <span class="link">Recent Activity</span>
          </a>
        </li>

        <li class="list">
          <a href="{{ url_for('active_groups') }}" class="nav-link">
            <i class="bx bx-pie-chart-alt-2 icon"></i>
            <span class="link">Analytics</span>
          </a>
        </li>

        <li class="list">
          <a href="{{ url_for('history') }}" class="nav-link">
            <i class="bx bx-time icon"></i> <!-- Icon for History -->
            <span class="link">History</span>
          </a>
        </li>
      </ul>

      <div class="bottom-content">
        <li class="list">
          <a href="{{ url_for('profile') }}" class="nav-link">
            <i class="bx bx-user icon"></i> <!-- Icon for Profile -->
            <span class="link">Profile</span>
          </a>
        </li>

        <li class="list">
          <a href="{{ url_for('base') }}" class="nav-link">
            <i class="bx bx-log-out icon"></i> <!-- Icon for Logout -->
            <span class="link">Logout</span>
          </a>
        </li>
      </div>
    </div>
  </div>
</nav>




<div class="join">

    

    <h1>Join a Group</h1>

    <div>
        <button id="scan-btn">Scan QR Code</button>
        <button onclick="document.getElementById('manual-code-form').style.display='block'">Enter Room ID</button>
    </div>

    <div id="manual-code-form" style="display:none;">
        <form action="{{ url_for('join_by_code') }}" method="post">
            <label for="room_id">Room ID:</label>
            <input type="text" id="room_id" name="room_id" required>
            <button type="submit">Join Room</button>
        </form>
    </div>


    <script>
        document.getElementById('scan-btn').addEventListener('click', function() {
            fetch('/scan_qr').then(response => {
                if (!response.ok) {
                    alert('Failed to start QR scanner.');
                }
            });
        });
    </script>

</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const dashboardToggle = document.getElementById('dashboard-toggle');
      const dropdownMenu = document.getElementById('dropdown-menu');
      const icon = dashboardToggle.querySelector('.bx-chevron-down');

      dashboardToggle.addEventListener('click', function() {
          dropdownMenu.classList.toggle('show');
          icon.classList.toggle('rotate');
      });
  });
</script>
<script src="/static/js/dashboard.js"></script>


</body>
</html>